// run("D:/Java/Arucas/src/test/resources/code/bug.arucas");
// run("E:/Java/Projects/Arucas/src/test/resources/code/bug.arucas");
// run("C:/Users/Admin/git/Arucas/src/test/resources/code/bug.arucas");

A = 0;
B = '1';
C = true;

fun g() {
    return A;
}

fun test(A, B, C) {
    print('Inside call');
    print('-> A = ' + stringOf(A));
    print('-> B = ' + stringOf(B));
    print('-> C = ' + stringOf(C));
    g();
}

WAIT = true;
LIST = [ 1, 2 ];
schedule(10, fun() {
    // thread 2
    // scope + 1
    while(true) {
        if(!WAIT) {
            append(LIST, 0);
        }
    }
    // scope -1
});


// thread 1
{
    W = 12;
    local_var = 'fun_string';
    WAIT = false;
    while (true) {
        len(LIST);
    }
}


test(true, 3, 'text');
print('Outside call');
print('-> A = ' + stringOf(A));
print('-> B = ' + stringOf(B));
print('-> C = ' + stringOf(C));