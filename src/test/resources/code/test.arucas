// run(File.getDirectory().getPath() + "/src/test/resources/code/test.arucas");

discordBot = new DiscordBot("");
discordBot.setActivity("playing", "Arucas!");

discordBot.addCommand({
    "name": "stop",
    "description": "This shuts down the bot",
    "command": fun(event) {
        event.reply("Shutting down...");
        stop();
    }
});

discordBot.addCommand({
    "name": "save",
    "description": "Saves a file to Sensei's computer...",
    "next": {
        "name": "file",
        "description": "The file you want to save",
        "type": "Attachment",
        "command": fun(event, attachment) {
            file = new File(attachment.getFileName() + attachment.getFileExtension());
            attachment.saveToFile(file);
            event.reply("Successfully saved!");
        }
    }
});

discordBot.registerEvent("MessageReceivedEvent", fun(event) {
    message = event.getMessage();
    print(message.getRaw());
    if (message.getRaw() == "ping") {
        message.reply("pong!");
    }
});

Thread.freeze();
